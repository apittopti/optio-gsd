### F002: Claude Code Task Integration

- **Added:** 2025-01-25
- **Category:** enhancement
- **Priority:** high
- **Status:** planned (v2.2.0)

## Description

Integrate opti-gsd's plan.json tasks with Claude Code's built-in task system (TaskCreate, TaskUpdate, TaskList, TaskGet) for real-time visual progress during execution.

## Architecture

**Two layers:**
1. **plan.json** — Source of truth, persistent memory, workflow history
2. **Claude Code Tasks** — Real-time visual progress, shared between agents

## Implementation

When executor starts a phase:
1. Read tasks from plan.json
2. Call `TaskCreate` for each task with:
   - `subject`: Task title from plan
   - `description`: Full task details
   - `activeForm`: "Executing T01: {title}" (shown in spinner)
3. As tasks execute, call `TaskUpdate` with status changes
4. Tasks become visible in Claude Code UI
5. Multiple agents can see/update task progress

## Benefits

- Visual progress bars in Claude Code terminal
- Task status shared between spawned agents
- Future-proof as Anthropic improves task system
- Better UX during long-running executions

## Integration Points

- `opti-gsd-executor.md` — Create tasks on phase start, update on completion
- `execute.md` command — Initialize task list from plan
- Subagents — Can read task context via TaskGet

---
